<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
  <head>
    <title>PSD Simulator</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="psd.js" ></script>
    <script src="schema.js" ></script>
    <!--<script src="gears.js" ></script>-->
    <script src="gears2.js" ></script>
    <script src="simulation.js" ></script>
  </head>
  <body style='text-align:center;'>
    <canvas id="gears" height="500" width="400" style="float:right;">
    </canvas>
    
    <!--<canvas id="planetary" height="400" width="400" style="float:left;">
    </canvas>
    -->
    
    <div id='psd_ani' style="float:left;height:400px;width:400px;">
    </div>
    
    <h1>PSD - Prius IV</h1>
    
    <svg style='background-color:#eef;position:relative;display:inline-block;margin:0 auto;border-style:solid;border-width:0px;border-color:black;width:410px;height:300px;'>
      <text x="10" y="20" fill="#55b">MG1</text>
      <text x="370" y="20" fill="#116">MG2</text>
      <text x="193" y="15" fill="#aa2">ICE</text>
      <text x="5" y="165" fill="#55b" id="svg_mg1_rpm">0rpm</text>
      <text x="365" y="165" fill="#55b" id="svg_mg2_rpm">0rpm</text>
      <text x="185" y="255" fill="#888">speed</text>
      <text x="190" y="190" style="text-align:center;" id="svg_ice_rpm">0 rpm</text>
      <text x="180" y="290" style="text-align:center;" id="svg_speed">0 km/h</text>
      
      <rect width="5" height="280" rx="5" ry="5" x="50" y ="10" style="fill:rgb(0,0,0);" />
      <rect width="5" height="280" rx="5" ry="5" x="360" y ="10" style="fill:rgb(0,0,0);" />
      <line x1="50" y1="160" x2="360" y2="160" stroke="rgb(50,50,50)" style="stroke-width:1" />
      <foreignObject x="50" y="0" width="310" height="290">
        <input type='range' min='0' max='5200' value='0' id='rpmice' oninput='sim.calculateNewRPM();' style="width:136px;height:20px;position:relative;left:0px;top:90px;transform:rotate(-90deg);" />
        <input type='range' min='-50' max='250' value='0' id='speed' oninput='sim.calculateNewRPM();' style="width:250px;height:20px;position:absolute;left:30px;bottom:10px;" />
      </foreignObject>
      
      <line x1="50" y1="160" x2="200" y2="160" stroke="rgb(50,200,50)" style="stroke-width:1" id="svg_icemg1" />
      <line x1="210" y1="160" x2="360" y2="160" stroke="rgb(50,200,50)" style="stroke-width:1" id="svg_icemg2" />
    </svg>  
    
  </body>
</html>
